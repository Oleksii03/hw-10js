{"mappings":"AAEO,SAASA,EAAeC,EAAOC,GACpC,OAAOC,MAAM,qEAA6CF,2BAA+BC,sCACtFE,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLC,QAAQC,MAAMF,EAAI,G,CCVjB,SAASG,EAAcC,GAC5B,OAAOA,EAAIC,KAAI,CAACC,EAAIC,IACX,kDAEOD,EAAGE,sBAAsBD,mBAEtCE,KAAK,G,CCJV,MAAMC,EAASC,SAASC,cAAc,YAEhCC,EAASF,SAASC,cAAc,YAChCE,EAAcH,SAASC,cAAc,iBAE3C,IAAIG,EAAa,GACbC,EAAO,EAEXN,EAAOO,iBAAiB,UAExB,SAA2BC,GAIzB,GAHAA,EAAEC,iBACFJ,EAAaG,EAAEE,OAAOC,SAASC,OAAOC,MAEnB,KAAfR,EACF,OAGFD,EAAYU,UAAUC,OAAO,aAE7BpC,EAAc0B,EAAYC,GAAMvB,MAAKiC,IACnCb,EAAOc,UAAYxB,EAAauB,EAAKE,KAAK,G,IAK9Cd,EAAYG,iBAAiB,SAE7B,SAAqBC,GACnBF,GAAQ,EACR3B,EAAc0B,EAAYC,GACvBvB,MAAK,EAACmC,KAAEA,MACPf,EAAOgB,mBAAmB,YAAa1B,EAAayB,GAAM,G","sources":["src/js/fetchFn.js","src/js/createMarcup.js","src/js/searchApi.js"],"sourcesContent":["const API_KEY = '33184193-09093e83ff1c2949d43a02918';\n\nexport function getPhotoQuery (query, page) {\n  return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&page=${page}&per_page=20&orientation=vertical`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(err => {\n      console.error(err);\n    });\n};","\nexport function createMarcup (val) {\n  return val.map((el, i) => {\n    return `\n    <li class='list__item'>\n      <img src=\"${el.webformatURL}\" alt=\"${i}\">\n    </li>`;\n  }).join('');\n}","import { getPhotoQuery } from \"./fetchFn\";\nimport { createMarcup } from \"./createMarcup\";\n\nconst formEl = document.querySelector('.js-form');\n// const btnEl = document.querySelector('.js-form__btn');\nconst listEl = document.querySelector('.js-list');\nconst btnLoadMore = document.querySelector('.js-load-more');\n\nlet inputValue = '';\nlet page = 1;\n\nformEl.addEventListener('submit', onSearchBySubmit);\n\nfunction onSearchBySubmit (e) {\n  e.preventDefault();\n  inputValue = e.target.elements.search.value;\n\n  if (inputValue === '') {\n    return;\n  }\n\n  btnLoadMore.classList.remove('is-hidden');\n\n  getPhotoQuery(inputValue, page).then(data => {\n    listEl.innerHTML = createMarcup(data.hits);\n  });\n\n}\n\nbtnLoadMore.addEventListener('click', onLoadMore);\n\nfunction onLoadMore (e) {\n  page += 1;\n  getPhotoQuery(inputValue, page)\n    .then(({ hits }) => {\n      listEl.insertAdjacentHTML('beforeend', createMarcup(hits));\n    });\n}"],"names":["$eaf88d217168ca8e$export$406779a68fa678ff","query","page","fetch","then","response","ok","Error","status","json","catch","err","console","error","$4d1f23793999d20c$export$2e1fc573fc79e61c","val","map","el","i","webformatURL","join","$103c1df01808e877$var$formEl","document","querySelector","$103c1df01808e877$var$listEl","$103c1df01808e877$var$btnLoadMore","$103c1df01808e877$var$inputValue","$103c1df01808e877$var$page","addEventListener","e","preventDefault","target","elements","search","value","classList","remove","data","innerHTML","hits","insertAdjacentHTML"],"version":3,"file":"cat-search.f4ad1bd9.js.map"}