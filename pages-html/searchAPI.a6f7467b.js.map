{"mappings":"YAKO,SAASA,EAAeC,EAAOC,GACpC,OAAOC,MAAM,GAAmBC,OAHjB,2BAGU,SAAoBA,OAJ/B,qCAI0B,OAAoCA,OAA/BH,EAAM,2BAA8BG,OAALF,EAAK,sCAC9EG,MAAK,SAAAC,GAEJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,GACLC,QAAQC,MAAMF,E,IChBb,SAASG,EAAcC,GAC5B,OAAOA,EAAIC,KAAI,SAACC,EAAIC,GAClB,MAAO,0EAGkCf,OAAzBc,EAAGE,aAAa,WAAWhB,OAAFe,EAAE,4B,IAG1CE,KAAK,G,CCLV,IAAMC,EAASC,SAASC,cAAc,YAChCC,EAASF,SAASC,cAAc,YAChCE,EAAcH,SAASC,cAAc,iBAIvCG,GAHoBJ,SAASC,cAAc,cAG9B,IACbI,EAAO,EAEXN,EAAOO,iBAAiB,UAExB,SAA2BC,GAKzB,GAJAF,EAAO,EACPE,EAAEC,iBAGiB,MAFnBJ,EAAaG,EAAEE,OAAOC,SAASC,OAAOC,OAEf,OAEvBnC,EAAc2B,EAAYC,GAAMvB,MAAK,SAAA+B,GACnCX,EAAOY,UAAYtB,EAAaqB,EAAKE,MAEjCF,EAAKG,UAAY,IACnBb,EAAYc,UAAUC,OAAO,Y,OAKnCf,EAAYG,iBAAiB,SAE7B,SAAqBC,GAEnB9B,EAAc2B,EADdC,GAAQ,GAELvB,MAAK,SAAA+B,GACJX,EAAOiB,mBAAmB,YAAa3B,EAAaqB,EAAKE,OAErDF,EAAKE,KAAKK,OAAS,IACrBjB,EAAYc,UAAUI,IAAI,Y","sources":["src/js/fetchFn.js","src/js/createMarcup.js","src/js/searchApi.js"],"sourcesContent":["import { loaderEl } from \"./searchApi\";\n\nconst API_KEY = '33184193-09093e83ff1c2949d43a02918';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getFetchPhoto (query, page) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&page=${page}&per_page=20&orientation=vertical`)\n    .then(response => {\n\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .catch(err => {\n      console.error(err);\n    });\n};","export function createMarcup (val) {\n  return val.map((el, i) => {\n    return `\n    <a href=\"#\">\n      <li class='list__item'>\n        <img src=\"${el.webformatURL}\" alt=\"${i}\">\n      </li>\n    </a>`;\n  }).join('');\n}","import { getFetchPhoto } from \"./fetchFn\";\nimport { createMarcup } from \"./createMarcup\";\n\nconst formEl = document.querySelector('.js-form');\nconst listEl = document.querySelector('.js-list');\nconst btnLoadMore = document.querySelector('.js-load-more');\nexport const loaderEl = document.querySelector('.js-loader');\n// const btnEl = document.querySelector('.js-form__btn');\n\nlet inputValue = '';\nlet page = 1;\n\nformEl.addEventListener('submit', onSearchBySubmit);\n\nfunction onSearchBySubmit (e) {\n  page = 1;\n  e.preventDefault();\n  inputValue = e.target.elements.search.value;\n\n  if (inputValue === '') return;\n\n  getFetchPhoto(inputValue, page).then(data => {\n    listEl.innerHTML = createMarcup(data.hits);\n\n    if (data.totalHits > 20) {\n      btnLoadMore.classList.remove('is-hidden');\n    }\n  });\n}\n\nbtnLoadMore.addEventListener('click', onLoadMore);\n\nfunction onLoadMore (e) {\n  page += 1;\n  getFetchPhoto(inputValue, page)\n    .then(data => {\n      listEl.insertAdjacentHTML('beforeend', createMarcup(data.hits));\n\n      if (data.hits.length < 20) {\n        btnLoadMore.classList.add('is-hidden');\n      }\n    });\n};"],"names":["$5649782ebae228ee$export$d360be45847cb4b5","query","page","fetch","concat","then","response","ok","Error","status","json","catch","err","console","error","$4fbacacbc796f8c2$export$2e1fc573fc79e61c","val","map","el","i","webformatURL","join","$75e552b0f6fb1bc7$var$formEl","document","querySelector","$75e552b0f6fb1bc7$var$listEl","$75e552b0f6fb1bc7$var$btnLoadMore","$75e552b0f6fb1bc7$var$inputValue","$75e552b0f6fb1bc7$var$page","addEventListener","e","preventDefault","target","elements","search","value","data","innerHTML","hits","totalHits","classList","remove","insertAdjacentHTML","length","add"],"version":3,"file":"searchAPI.a6f7467b.js.map"}