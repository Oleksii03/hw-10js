!function(){function e(e,t){var n="".concat("https://pixabay.com/api/","?key=").concat("33184193-09093e83ff1c2949d43a02918","&q=").concat(e,"&image_type=photo&page=").concat(t,"&per_page=20&orientation=vertical");return fetch(n).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}))}function t(e){return e.map((function(e,t){return'\n      <li class=\'list__item\'>\n        <a href="#">\n          <img loading="lazy" height="400" src="'.concat(e.webformatURL,'" alt="').concat(t,'">\n        </a>  \n      </li>')})).join("")}var n=document.querySelector(".js-form"),i=document.querySelector(".js-list"),r=document.querySelector(".js-load-more"),c=document.querySelector(".js-loader"),o="",s=1;n.addEventListener("submit",(function(n){if(n.preventDefault(),s=1,r.classList.add("is-hidden"),o=n.target.elements.search.value,n.target.reset(),""===o)return;c.classList.remove("is-hidden"),e(o,s).then((function(e){i.innerHTML=t(e.hits),e.totalHits>20&&r.classList.remove("is-hidden")})).catch((function(e){i.innerHTML="<h1>Error 404</h1>",console.error(e)})).finally((function(){c.classList.add("is-hidden")}))})),r.addEventListener("click",(function(n){c.classList.remove("is-hidden"),e(o,s+=1).then((function(e){i.insertAdjacentHTML("beforeend",t(e.hits)),e.hits.length<20&&r.classList.add("is-hidden")})).catch((function(e){i.innerHTML="<h1>Error 404</h1>",console.error(e)})).finally((function(){c.classList.add("is-hidden")}))}))}();
//# sourceMappingURL=searchAPI.b9bc4134.js.map
