function e(e,t){return fetch(`https://pixabay.com/api/?key=33184193-09093e83ff1c2949d43a02918&q=${e}&image_type=photo&page=${t}&per_page=20&orientation=vertical`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}function t(e){return e.map(((e,t)=>`\n      <li class='list__item'>\n        <a href="#">\n          <img loading="lazy" height="400" src="${e.webformatURL}" alt="${t}">\n        </a>  \n      </li>`)).join("")}const s=document.querySelector(".js-form"),n=document.querySelector(".js-list"),i=document.querySelector(".js-load-more"),r=document.querySelector(".js-loader"),o=document.querySelector(".js-search-up");let c="",l=1;function a(e){console.log(scrollY),scrollY>500&&(o.classList.add("is-visible"),document.removeEventListener("scroll",a))}s.addEventListener("submit",(function(s){if(s.preventDefault(),l=1,i.classList.add("is-hidden"),c=s.target.elements.search.value,s.target.reset(),""===c)return;r.classList.remove("is-hidden"),e(c,l).then((e=>{n.innerHTML=t(e.hits),e.totalHits>20&&i.classList.remove("is-hidden")})).catch((e=>{n.innerHTML="<h1>Error 404</h1>",console.error(e)})).finally((()=>{r.classList.add("is-hidden")}))})),i.addEventListener("click",(function(s){r.classList.remove("is-hidden"),l+=1,e(c,l).then((e=>{n.insertAdjacentHTML("beforeend",t(e.hits)),e.hits.length<20&&i.classList.add("is-hidden")})).catch((e=>{n.innerHTML="<h1>Error 404</h1>",console.error(e)})).finally((()=>{r.classList.add("is-hidden")}))})),document.addEventListener("scroll",a),o.addEventListener("click",(function(e){o.classList.remove("is-visible"),document.addEventListener("scroll",a)}));
//# sourceMappingURL=searchAPI.21e30e5b.js.map
